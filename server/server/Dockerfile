FROM openjdk:8-alpine
# game.properties
ENV GAME_SERVER_HOST 127.0.0.1
ENV GAME_SERVER_PORT 10001
ENV LOGIN_SERVER_URL http://127.0.0.1:8001
ENV PAY_NOTIFY_URL http://127.0.0.1:2022/
ENV ADMIN_URL http://127.0.0.1:81/monitor/update
# application.properties
ENV GM_SERVER_PORT 20001
ENV MYSQL_GAME_HOST 127.0.0.1
ENV MYSQL_GAME_PORT 3306
ENV MYSQL_GAME_USERNAME root
ENV MYSQL_GAME_PASSWORD 123456
ENV MYSQL_GAME_SCHEMA game

ENV MYSQL_LOGIN_HOST 127.0.0.1
ENV MYSQL_LOGIN_PORT 3306
ENV MYSQL_LOGIN_USERNAME root
ENV MYSQL_LOGIN_PASSWORD 123456
ENV MYSQL_LOGIN_SCHEMA login

ENV MYSQL_KF_HOST 127.0.0.1
ENV MYSQL_KF_PORT 3306
ENV MYSQL_KF_USERNAME root
ENV MYSQL_KF_PASSWORD 123456
ENV MYSQL_KF_SCHEMA game_kuafu

ENV REDIS_ENABLED 0
ENV REDIS_HOST 127.0.0.1
ENV REDIS_PASSWORD ''
ENV REDIS_PORT 6379
ENV REDIS_DB 0

WORKDIR /app
COPY . .

EXPOSE ${GM_SERVER_PORT} ${SERVER_PORT}

CMD [ "./docker-entrypoint.sh" ]

